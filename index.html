<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Viva Andebol</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        @charset "utf-8";

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background-color: #f2f2f2;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding-bottom: 70px;
            /* Removido position: relative do body, pois o cabeçalho será independente */
            transition: background-color 0.3s ease; /* Transição suave para o modo escuro */
        }

        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        body.dark-mode h1,
        body.dark-mode h2,
        body.dark-mode h3,
        body.dark-mode h4,
        body.dark-mode h5,
        body.dark-mode h6 {
            color: #ff8800; /* Laranja mais claro no modo escuro */
        }

        body.dark-mode p {
            color: #cccccc;
        }

        body.dark-mode .section {
            background-color: #2c2c2c;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .menu {
            background-color: #cc5200; /* Laranja mais escuro no menu */
        }

        body.dark-mode .menu a {
            color: #f2f2f2;
        }

        body.dark-mode .menu a:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        body.dark-mode .discover-block {
            background-color: #3a3a3a;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            color: #e0e0e0;
        }

        body.dark-mode .discover-block:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.6);
        }

        body.dark-mode .discover-block svg, 
        body.dark-mode .discover-block img {
            color: #a0a0ff; /* Cor para ícones no modo escuro */
        }

        body.dark-mode .subsection {
            background-color: #3a3a3a;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }

        body.dark-mode .subsection h3 {
            color: #a0a0ff;
        }

        body.dark-mode .subsection ul li {
            border-bottom: 1px solid #444;
        }

        body.dark-mode .subsection ul li:last-child {
            border-bottom: none;
        }

        body.dark-mode .subsection a {
            color: #e0e0e0;
        }

        body.dark-mode .subsection a:hover {
            color: #a0a0ff;
        }

        body.dark-mode .back-button {
            background-color: #e65c00; /* Laranja um pouco mais escuro */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .back-button:hover {
            background-color: #ff7700;
        }

        body.dark-mode .competition-nav-buttons .button {
            background-color: #e47a00; /* Azul mais escuro para botões */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .competition-nav-buttons .button:hover {
            background-color: #ff9162;
            text-decoration: none;
        }

        body.dark-mode .gender-block {
            background-color: #333d47; /* Azul escuro/cinzento */
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .gender-block h4 {
            color: #ff8800;
        }

        body.dark-mode .gender-block ul {
            color: #ff8800;
        }

        body.dark-mode .youtube-channel-block {
            background-color: #3a3a3a;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            color: #e0e0e0;
        }

        body.dark-mode .youtube-channel-block:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.45);
        }

        body.dark-mode .youtube-channel-block img {
            border: 2px solid #555;
        }

        body.dark-mode .youtube-channel-block h4 {
            color: #ccc;
        }

        body.dark-mode .news-tab-button {
            background-color: #444;
            color: #bbb;
        }

        body.dark-mode .news-tab-button.active {
            background-color: #ff6600;
            color: #fff;
        }

        body.dark-mode .news-tab-button:hover:not(.active) {
            background-color: #555;
        }

        body.dark-mode .news-search-bar {
            background-color: #3a3a3a;
            color: #e0e0e0;
            border: 1px solid #555;
        }

        body.dark-mode .news-search-bar::placeholder {
            color: #bbb;
        }

        body.dark-mode .news-article {
            background-color: #3a3a3a;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .news-article h4 {
            color: #e0e0e0;
        }

        body.dark-mode .news-article p {
            color: #bbb;
        }

        body.dark-mode .news-article a {
            color: #8799ff; /* Azul mais claro para links no modo escuro */
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #ff6600;
            font-weight: 600;
        }

        p {
            color: #0a0a0a;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .section {
            padding: 20px;
            margin: 0 auto;
            max-width: 800px;
            background-color: #fff;
            margin-top: 20px; /* Adiciona margem superior para separar do cabeçalho */
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: none; /* Esconde todas as secções por padrão */
            position: relative; /* Para que a bandeira fique dentro da seção, se necessário, mas agora está no cabeçalho */
            /* Removido padding-top: 50px; */
        }

        .section.active {
            display: block; /* Mostra apenas a secção ativa */
        }

        .section:first-of-type {
            margin-top: 0; /* O primeiro section não precisa de margem superior se o header já a tiver */
        }

        /* Novo cabeçalho no topo da página */
        .top-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px; /* Espaçamento interno */
            background-color: #f2f2f2; /* Cor de fundo para o cabeçalho */
            margin-bottom: 10px; /* Espaçamento entre o cabeçalho e a primeira seção */
            position: sticky; /* Para que o cabeçalho fique fixo ao rolar */
            top: 0;
            z-index: 20; /* Garante que o cabeçalho fica por cima de outras secções */
        }

        body.dark-mode .top-header {
            background-color: #1a1a1a;
        }

        /* Mascote no canto superior esquerdo */
        .mascot-icon {
            width: 50px; /* Tamanho ajustado */
            height: auto;
            margin-right: 10px; /* Espaçamento à direita do tigre */
        }

        /* Bandeira no canto superior direito */
        .flag-icon {
            width: 30px; /* Tamanho pequeno para a bandeira */
            height: auto;
            border: 1px solid #ccc; /* Borda para visibilidade */
            margin-left: 10px; /* Espaçamento à esquerda da bandeira */
        }

        /* Estilos para o título da aplicação */
        #app-title-header {
            flex-grow: 1; /* Permite que o título ocupe o espaço restante */
            text-align: center;
        }

        #app-title-header h1 {
            font-size: 1.8em; /* Tamanho do título */
            margin: 0;
            color: #ff6600; /* Cor do título */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        body.dark-mode #app-title-header h1 {
            color: #ff8800; /* Laranja mais claro no modo escuro */
        }


        /* Estilos para o menu de navegação inferior */
        .menu {
            background-color: #ff6600;
            color: #fff;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px 0;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .menu a {
            color: #fff;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            flex: 1;
            padding: 5px 0;
            transition: background-color 0.2s ease;
        }

        .menu a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .menu a .icon {
            width: 24px;
            height: 24px;
            margin-bottom: 5px;
            /* Cor dos ícones para que sejam visíveis */
            stroke: currentColor; 
        }

        /* Estilos para as imagens dentro das secções */
        .section img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        /* ------------------------------------------- */
        /* Estilos Específicos para a Secção "Explorar" */
        /* ------------------------------------------- */

        .discover-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 30px;
            margin-bottom: 30px;
        }

        .discover-block {
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 30px;
            text-align: center;
            width: 180px;
            min-width: 150px;
            text-decoration: none;
            color: #333;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .discover-block:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .discover-block svg, .discover-block img {
            width: 70px;
            height: 70px;
            margin-bottom: 15px;
            color: #8799ff;
            object-fit: contain;
        }

        .discover-block h3 {
            font-size: 1.3em;
            margin: 0;
            line-height: 1.3;
        }

        /* Estilos para as novas sub-secções de conteúdo */
        .subsection {
            display: none; /* Esconde por padrão, JS irá gerir a exibição */
            padding: 20px;
            margin-top: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        .subsection.active { /* Adiciona esta classe para visibilidade no JS */
            display: block;
        }

        .subsection h3 {
            color: #8799ff;
            margin-bottom: 15px;
            text-align: center;
        }

        .subsection ul {
            list-style: none;
            padding: 0;
        }

        .subsection ul li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .subsection ul li:last-child {
            border-bottom: none;
        }

        .subsection a {
            color: #333;
            text-decoration: none;
            display: block;
            transition: color 0.2s ease;
        }

        .subsection a:hover {
            color: #8799ff;
            text-decoration: underline;
        }

        .back-button {
            display: block;
            width: fit-content;
            margin: 20px auto 0 auto;
            padding: 12px 20px;
            background-color: #ff6600;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: background-color 0.2s ease, transform 0.2s ease;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .back-button:hover {
            background-color: #ff8800;
            transform: translateY(-2px);
        }

        /* Estilos para os novos botões de navegação dentro das sub-secções */
        .competition-nav-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
            margin-bottom: 30px;
        }

        .competition-nav-buttons .button {
            display: block;
            padding: 15px 25px;
            background-color: #007bff;
            color: white;
            text-align: center;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.2s ease, transform 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .competition-nav-buttons .button:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
        }

        /* Estilos para os blocos de género (Masculino/Feminino) */
        .gender-block {
            background-color: #f0f8ff;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
        }

        .gender-block h4 {
            color: #ff5e00;
            margin-top: 0;
            margin-bottom: 10px;
            text-align: center;
            font-size: 1.1em;
        }

        .gender-block ul {
            list-style: none; /* Alterado para remover marcadores de lista */
            padding: 0;
        }

        .gender-block ul li {
            padding: 5px 0;
            border-bottom: none;
            font-size: 0.95em;
            color: #ff5100;
            /* Removido cursor e sublinhado aqui para que apenas o link tenha esses estilos */
        }

        .gender-block ul li a {
            color: #ff5100; /* Cor do texto do link */
            text-decoration: none; /* Remove sublinhado padrão */
            display: block; /* Faz o link ocupar toda a largura do li */
            cursor: pointer; /* Adicionado cursor para indicar clicável */
        }

        .gender-block ul li a:hover {
            text-decoration: underline; /* Adicionado sublinhado ao passar o mouse */
        }

        /* Novos estilos para os blocos de canais do YouTube */
        .youtube-channels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 20px;
            margin-top: 30px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .youtube-channel-block {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
            text-decoration: none;
            color: #333;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }

        .youtube-channel-block:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }

        .youtube-channel-block img {
            width: 60px;
            height: 60px;
            margin-bottom: 10px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #e0e0e0;
        }

        .youtube-channel-block h4 {
            font-size: 1em;
            margin: 0;
            color: #555;
            line-height: 1.3;
        }

        /* Estilos para a secção de notícias */
        .news-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
        }

        .news-tab-button {
            padding: 10px 20px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .news-tab-button.active {
            background-color: #ff6600;
            color: #fff;
        }

        .news-tab-button:hover:not(.active) {
            background-color: #d0d0d0;
        }

        .news-list {
            display: grid;
            gap: 20px;
        }

        .news-article {
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 15px;
            transition: transform 0.2s ease-in-out;
        }

        .news-article:hover {
            transform: translateY(-3px);
        }

        .news-article h4 {
            font-size: 1.1em;
            margin-top: 0;
            margin-bottom: 10px;
            color: #333;
        }

        .news-article p {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
        }

        .news-article a {
            color: #007bff;
            text-decoration: none;
            font-weight: 600;
            display: inline-block;
            margin-top: 5px;
        }

        .news-article a:hover {
            text-decoration: underline;
        }

        /* Estilos para a secção de Definições */
        .settings-options { /* Alterado de profile-options para settings-options */
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .settings-option-block { /* Alterado de profile-option-block para settings-option-block */
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s ease, box-shadow 0.2s ease;
        }

        .settings-option-block:hover {
            background-color: #f0f0f0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        body.dark-mode .settings-option-block {
            background-color: #3a3a3a;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .settings-option-block:hover {
            background-color: #4a4a4a;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.45);
        }

        .settings-option-block h4 {
            margin: 0;
            color: #333;
            font-size: 1.1em;
        }
        
        body.dark-mode .settings-option-block h4 {
            color: #e0e0e0;
        }

        .settings-option-block .toggle-switch {
            position: relative;
            display: inline-block;
            width: 45px;
            height: 25px;
        }

        .settings-option-block .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .settings-option-block .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 25px;
        }

        .settings-option-block .slider:before {
            position: absolute;
            content: "";
            height: 19px;
            width: 19px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
        }

        .settings-option-block input:checked + .slider {
            background-color: #ff6600;
        }

        .settings-option-block input:focus + .slider {
            box-shadow: 0 0 1px #ff6600;
        }

        .settings-option-block input:checked + .slider:before {
            -webkit-transform: translateX(20px);
            -ms-transform: translateX(20px);
            transform: translateX(20px);
        }

        /* Round sliders */
        .settings-option-block .slider.round {
            border-radius: 25px;
        }

        .settings-option-block .slider.round:before {
            border-radius: 50%;
        }

        .settings-option-block select {
            padding: 8px 12px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 1em;
            background-color: #fff;
            color: #333;
        }
        
        body.dark-mode .settings-option-block select {
            background-color: #4a4a4a;
            color: #e0e0e0;
            border: 1px solid #555;
        }

        /* Sub-secções do perfil (termos de privacidade) */
        .settings-subsection { /* Alterado de profile-subsection para settings-subsection */
            display: none; /* Esconde por padrão */
            padding: 20px;
            margin-top: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        .settings-subsection.active {
            display: block;
        }

        body.dark-mode .settings-subsection {
            background-color: #3a3a3a;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }

        .settings-subsection h3 {
            color: #ff6600;
            margin-bottom: 15px;
            text-align: center;
        }

        .settings-subsection p {
            margin-bottom: 10px;
            color: #333;
        }

        body.dark-mode .settings-subsection p {
            color: #cccccc;
        }

        /* Media query para simular o formato de telemóvel - Ajustes */
        @media (min-width: 601px) {
            .menu {
                max-width: 400px;
                margin: 0 auto;
                left: 50%;
                transform: translateX(-50%);
            }
            .section {
                padding: 30px;
                margin-top: 30px;
            }
            .mascot-icon {
                width: 60px; /* Um pouco maior em telas maiores */
            }
            .flag-icon {
                width: 40px; /* Um pouco maior em telas maiores */
            }
            #app-title-header h1 {
                font-size: 2.2em; /* Tamanho do título para telas maiores */
            }
            .discover-block {
                width: 220px;
            }
            .competition-nav-buttons {
                flex-direction: row;
                justify-content: center;
            }
            .youtube-channels-grid {
                grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            }
            .news-tabs {
                flex-direction: row;
            }
        }
    </style>
</head>
<body>
    <header class="top-header">
        <img src="tigre.png" alt="Mascote Tigre" class="mascot-icon">
        <div id="app-title-header">
            <h1 data-lang-key="app_title"></h1>
        </div>
        <img id="flag-icon" src="" alt="Bandeira do País" class="flag-icon">
    </header>

    <nav class="menu">
        <a href="#home" class="nav-item">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span data-lang-key="home">Início</span>
        </a>
        <a href="#discover" class="nav-item">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8" /><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            <span data-lang-key="explore">Explorar</span>
        </a>
        <a href="#games" class="nav-item">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10" /><polygon points="10 8 16 12 10 16 10 8"/></svg>
            <span data-lang-key="games">Jogos</span>
        </a>
        <a href="#news" class="nav-item">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H5l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            <span data-lang-key="news">Notícias</span>
        </a>
        <a href="#settings" class="nav-item"> 
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
            <span data-lang-key="settings">Definições</span> 
        </a>
    </nav>

    <section id="home" class="section active"> 
    
        <h2 style="font-size: 45px; text-align: center;" data-lang-key="discover_handball">Viva Andebol!</h2>
        <p><img src="and1.avif" alt="Campo de Andebol"></p>
        <h2 data-lang-key="Origem_andebol">As Origens do Andebol</h2>
        <p data-lang-key="origemandeboldesc1">O andebol, como o conhecemos hoje, é um desporto dinâmico e emocionante, mas as suas raízes podem ser traçadas até jogos antigos que envolviam o uso das mãos e uma bola. Civilizações como a Grécia Antiga e a Roma Antiga praticavam jogos semelhantes, como o "Harpaston" e o "Palla" respetivamente, que já exigiam destreza com as mãos e coordenação.</p>
        <p data-lang-key="origemandeboldesc2">No entanto, a forma moderna do andebol começou a tomar forma no final do século XIX, com o dinamarquês Holger Nielsen e o alemão Max Heiser a serem figuras chave no seu desenvolvimento. Em 1898, Nielsen criou o "håndbold", um jogo para mulheres que utilizava as mãos e tinha regras simples. Pouco depois, em 1917, Heiser introduziu o "Torball", um jogo de campo para mulheres, que rapidamente evoluiu para o "Handball" (andebol de 11), popularizado pelo alemão Carl Schelenz em 1919.</p>
        <p data-lang-key="origemandeboldesc3">O andebol de 11, jogado em campos de futebol, foi o formato predominante nas primeiras décadas do século XX e chegou a ser um desporto olímpico nos Jogos de Berlim em 1936. Contudo, as condições climatéricas e a popularidade do futebol levaram ao declínio do andebol de 11, dando lugar à ascensão do andebol de 7, jogado em recintos fechados. Este formato mais rápido e tático rapidamente conquistou adeptos e tornou-se a versão dominante do desporto.</p>
        <p data-lang-key="origemandeboldesc4">A Federação Internacional de Andebol (IHF - International Handball Federation) foi fundada em 1946, e desde então, o andebol de 7 tem crescido exponencialmente, sendo atualmente um dos desportos de equipa mais populares globalmente, com campeonatos mundiais e europeus de grande prestígio e uma presença constante nos Jogos Olímpicos desde 1972.</p>
        <p> <img src="andhistoria.jpg"></p>
       
        <h2 data-lang-key="portugal_handball">Portugal no Andebol</h2>
        <p data-lang-key="portugal_handball_desc1">O andebol chegou a Portugal na década de 1920, com o campeonato nacional a ser criado em 1951.</p>
        <p data-lang-key="portugal_handball_desc2">Portugal teve dificuldades a competir internacionalmente, no entanto, isso tem vindo a mudar recentemente, com jogadores como Alexandre Cavalcanti, com a melhor classificação de sempre num Europeu em 2020, estando neste momento com uma equipa que pode ser considerada a melhor de sempre.</p>
        <p data-lang-key="portugal_handball_desc3">Isto pode ser comprovado pela prestação da seleção nacional na mais recente competição internacional, no mundial de 2025, em que Portugal terminou num histórico 4º lugar, melhorando significativamente o 10º lugar de 2021.</p>
        <p><img src="salvadorfrade.webp" alt="Seleção Nacional de Andebol"></p>
        <h2 data-lang-key="rules">Regras</h2>
        <p data-lang-key="rules_desc1">O jogo tem 2 partes de 30 minutos, podendo ser menores para jogadores com menos de 16 anos.</p>
        <p data-lang-key="rules_desc2">Cada equipa tem 7 jogadores, incluindo 1 guarda-redes.</p>
        <p data-lang-key="rules_desc3">Se a bola tocar abaixo do joelho do jogador é falta</p>
        <p data-lang-key="rules_desc4">Um jogador pode estar com a bola na mão por um máximo de 3 segundos, só podendo dar três passos.</p>
        <p data-lang-key="rules_desc5">É permitido driblar, sendo que depois de agarrar a bola só se pode dar três passos. </p>
        <p data-lang-key="rules_desc6">É permitido contacto físico leve, mas empurrões ou puxões são falta.</p>
        <p data-lang-key="rules_desc7">Não existe limite de substituições.</p>
        <p data-lang-key="rules_desc8">É concedido um livre de 7m em caso de faltas graves que impeçam claras oportunidades de golo. (Com exceções, por exemplo caso o defensor contacte o adversário enquanto estiver dentro da área, é considerado livre de 7 metros).</p>
        <p data-lang-key="rules_desc9">Apenas o guarda-redes pode estar na área de 6 metros.<br> Um jogador de campo pode saltar para dentro da área para rematar, desde que largue a bola antes de tocar no chão.</p>
        <p><img src="sinaisand.webp"></p>
        <p data-lang-key="rules_desc10">Depois de um golo a bola é reposta no meio-campo, a equipa que sofreu o golo tem que ter todos os jogadores atrás da linha do meio, os jogadores adversários não precisam estar na sua metade para a bola ser reposta em jogo.</p>
      
        <p data-lang-key="rules_desc11">Caso a bola esteja a saltitar dentro da  de 6 metros, um jogador de campo pode  desde de que não toque na área, caso esteja parada, a bola só pode ser jogada pelo guarda-redes</p>
        <p data-lang-key="rules_disciplinary_sanctions">Sanções disciplinares:<br>Advertência (cartão amarelo): Para faltas menores.</p>
        <p data-lang-key="rules_exclusion">Exclusão 2min: Para faltas graves ou reincidências.</p>
        <p data-lang-key="rules_red_card">Cartão Vermelho: Comportamento Antidesportivo ou acumulação de três 2min.</p>
        <p data-lang-key="rules_goalkeeper_pass">Se, durante o passe do guarda-redes para o meio-campo para continuar depois de um golo sofrido, a bola bater num jogador da equipa adversária, é assinalado 2 minutos.</p>
        <p style="padding-bottom: 40px;"><img src="campoandebol.jpg" alt="Ilustração de Andebol"></p>
    </section>

    <section id="discover" class="section">
        <h2 id="discover-main-title" style="text-align: center;" data-lang-key="explore_teams_leagues">Explorar Equipas e Ligas</h2>
        <p style="text-align: center;" data-lang-key="select_option_search">Selecione uma opção para pesquisar equipas, jogadores e resultados.</p>

        <div class="discover-options" id="discover-menu">
            <a href="#" class="discover-block" onclick="showDiscoverSubSection('fpa-competitions-main');">
                <img src="fpalogo.png" alt="Logo FPA">
                <h3 data-lang-key="fpa_competitions">Competições FPA</h3>
            </a>
            <a href="#" class="discover-block" onclick="showDiscoverSubSection('international-leagues-section');">
                <img src="mundo.webp">
            
                <h3 data-lang-key="international_leagues">Ligas Internacionais</h3>
            </a>
        </div>

        <div id="fpa-competitions-main" class="subsection">
            <h3 data-lang-key="fpa_competitions">Competições FPA</h3>
            <div class="competition-nav-buttons">
                <a href="#" class="button" onclick="showDiscoverSubSection('nacionais-section');" data-lang-key="national_competitions">Competições Nacionais</a>
                <a href="#" class="button" onclick="showDiscoverSubSection('regionais-section');" data-lang-key="regional_competitions">Competições Regionais</a>
            </div>
            <a href="#" class="back-button" onclick="showDiscoverMainScreen();" data-lang-key="back">Voltar</a>
        </div>

        <div id="nacionais-section" class="subsection">
            <h3 data-lang-key="national_competitions">Competições Nacionais</h3>
            <div class="gender-block">
                <h4 data-lang-key="male">Masculino</h4>
                <ul>
                    <li class="clickable-senior" data-gender="male" data-lang-key="seniors">Seniores</li>
                    <li> <a href="https://portal.fpa.pt/prova/8914/" target="_blank" data-lang-key="sub20_juniors">Sub-20 (Juniores)</a></li>
                    <li><a href="https://portal.fpa.pt/prova/8915/" target="_blank"  data-lang-key="youth"> Sub-18 (Juvenis)</a></li>
                    <li> <a href="https://portal.fpa.pt/prova/8916/" target="_blank" data-lang-key="beginners"> Sub-16 (Iniciados)</a></li>
                </ul>
            </div>
            <div class="gender-block">
                <h4 data-lang-key="female">Feminino</h4>
                <ul>
                    <li class="clickable-senior" data-gender="female" data-lang-key="seniors">Seniores</li>
                    <li><a href="https://portal.fpa.pt/prova/8920/" target="_blank" data-lang-key="youth">Sub-18 (Juvenis)</a></li>
                    <li><a href="https://portal.fpa.pt/prova/8921/" target="_blank" data-lang-key="beginners">Sub-16 (Iniciadas)</a></li>
                </ul>
            </div>
            <a href="#" class="back-button" onclick="showDiscoverSubSection('fpa-competitions-main');" data-lang-key="back">Voltar</a>
        </div>

        <div id="regionais-section" class="subsection">
            <h3 data-lang-key="regional_competitions">Competições Regionais</h3>
            <div class="gender-block">
                <a href="https://portal.fpa.pt/competicoes-regionais-andebol-masculino/" target="_blank" style="text-decoration: none;">
                    <h4 data-lang-key="male">Masculino</h4>
                </a>
            </div>
            <div class="gender-block">
                <a href="https://portal.fpa.pt/competicoes-regionais-andebol-feminino/" target="_blank" style="text-decoration: none;">
                    <h4 data-lang-key="female">Feminino</h4>
                </a>
            </div>
            <a href="#" class="back-button" onclick="showDiscoverSubSection('fpa-competitions-main');" data-lang-key="back">Voltar</a>
        </div>

        <div id="male-seniors-competitions-section" class="subsection">
            <h3 data-lang-key="male_seniors_competitions">Competições Seniores Masculinas</h3>
            <ul>
                <li><a href="https://portal.fpa.pt/prova/8910/" target="_blank" data-lang-key="campeonato_placard_andebol1">Campeonato Placard Andebol 1</a></li>
                <li><a href="https://portal.fpa.pt/prova/8911/" target="_blank" data-lang-key="divisao_honra_masculina">Divisão de Honra Masculina</a></li>
                <li><a href="https://portal.fpa.pt/prova/8924/" target="_blank" data-lang-key="taca_portugal_masculina">Taça de Portugal Masculina</a></li>
                <li><a href="https://portal.fpa.pt/prova/8925/" target="_blank" data-lang-key="supertaça_masculina">Supertaça Masculina</a></li>
            </ul>
            <a href="#" class="back-button" onclick="showDiscoverSubSection('nacionais-section');" data-lang-key="back">Voltar</a>
        </div>

        <div id="female-seniors-competitions-section" class="subsection">
            <h3 data-lang-key="female_seniors_competitions">Competições Seniores Femininas</h3>
            <ul>
                <li><a href="https://portal.fpa.pt/prova/8917/" target="_blank" data-lang-key="campeonato_placard_andebol1_feminina">Campeonato Placard Andebol Feminino</a></li>
                <li><a href="https://portal.fpa.pt/prova/8918/" target="_blank" data-lang-key="divisao_honra_feminina">Divisão de Honra Feminina</a></li>
                <li><a href="https://portal.fpa.pt/prova/8926/" target="_blank" data-lang-key="taca_portugal_feminina">Taça de Portugal Feminina</a></li>
                <li><a href="https://portal.fpa.pt/prova/8927/" target="_blank" data-lang-key="supertaça_feminina">Supertaça Feminina</a></li>
            </ul>
            <a href="#" class="back-button" onclick="showDiscoverSubSection('nacionais-section');" data-lang-key="back">Voltar</a>
        </div>

        <div id="international-leagues-section" class="subsection">
            <h3 data-lang-key="international_leagues_competitions">Ligas Internacionais e Competições</h3>
            <ul>
                <li><a href="https://ehfcl.eurohandball.com/men/2024-25/standings/#truckscout24-ehf-final4" target="_blank" data-lang-key="champions_league">Liga dos Campeões (EHF Champions League)</a></li>
                <li><a href="https://www.daikin-hbl.de/en/hbl/schedule" target="_blank" data-lang-key="german_league">Liga Alemã (Bundesliga)</a></li>
                <li><a href="https://www.playmakerstats.com/competition/liga-francesa-andebol" target="_blank" data-lang-key="french_league">Liga Francesa (LNH Starligue)</a></li>
                <li><a href="https://www.playmakerstats.com/competition/liga-espanhola-andebol?search=1" target="_blank" data-lang-key="spanish_league">Liga Espanhola (Liga ASOBAL)</a></li>
                <li><a href="https://www.ihf.info/competitions/men/308/29th-ihf-mens-world-championship-2025/177649/groups-rankings" target="_blank" data-lang-key="world_championships">Mundiais (IHF World Championship)</a></li>
                <li><a href="https://www.ehfcl.com/men/ehf-euro/" target="_blank" data-lang-key="european_championships">Europeus (EHF Euro)</a></li>
            </ul>
            <a href="#" class="back-button" onclick="showDiscoverMainScreen();" data-lang-key="back">Voltar</a>
        </div>

    </section>

    <section id="games" class="section">
        <h2 style="text-align: center;" data-lang-key="youtube_channels_games">Canais de YouTube para Jogos</h2>
        <p style="text-align: center;" data-lang-key="watch_highlights">Assista aos melhores momentos e jogos completos nos canais oficiais.</p>
        
        <div class="youtube-channels-grid">
        </div>
    </section>

    <section id="news" class="section">
        <h2 style="text-align: center;" data-lang-key="recent_news">Notícias Recentes</h2>
        <p style="text-align: center;" data-lang-key="stay_updated">Mantenha-se atualizado com o mundo do andebol.</p>

        <div class="news-tabs">
            <button class="news-tab-button active" data-category="nacional" data-lang-key="national">Nacional</button>
            <button class="news-tab-button" data-category="internacional" data-lang-key="international">Internacional</button>
        </div>

        <div id="news-list-container" class="news-list">
        </div>
        <div id="news-loading-indicator" style="text-align: center; margin-top: 20px; display: none;" data-lang-key="loading_news">
            A carregar notícias...
        </div>
    </section>

    <section id="settings" class="section"> <h2 style="text-align: center;" data-lang-key="settings">Definições</h2> <p style="text-align: center;" data-lang-key="manage_preferences">Gerencie suas preferências e histórico de equipas.</p>

        <div class="settings-options" id="settings-main-options"> <div class="settings-option-block"> <h4 data-lang-key="dark_mode">Modo Escuro</h4>
                <label class="toggle-switch">
                    <input type="checkbox" id="darkModeToggle">
                    <span class="slider round"></span>
                </label>
            </div>

            <div class="settings-option-block"> <h4 data-lang-key="language">Idioma</h4>
                <select id="language-select">
                    <option value="pt" data-lang-key="portuguese">Português</option>
                    <option value="en" data-lang-key="english">Inglês</option>
                </select>
            </div>

            <div class="settings-option-block" onclick="showSettingsSubSection('terms-privacy-section');"> <h4 data-lang-key="terms_privacy">Termos e Privacidade</h4>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </div>
        </div>

        <div id="terms-privacy-section" class="settings-subsection"> <h3 data-lang-key="terms_privacy_title">Termos e Condições de Uso e Política de Privacidade</h3>
            
            <h4 data-lang-key="terms_introduction_title">Introdução</h4>
            <p data-lang-key="terms_introduction_text">Bem-vindo à Viva Andebol. Ao aceder e utilizar a nossa aplicação, concorda com os seguintes termos e condições, bem como com a nossa política de privacidade. Leia-os atentamente antes de continuar a utilizar os nossos serviços.</p>

            <h4 data-lang-key="data_collection_title">Recolha de Dados</h4>
            <p data-lang-key="data_collection_text">A Viva Andebol recolhe informações mínimas e essenciais para o funcionamento da aplicação, como as suas preferências de idioma e modo de visualização (claro/escuro). Não recolhemos dados pessoais sensíveis, nem partilhamos as suas informações com terceiros para fins de marketing. Poderemos recolher dados de utilização anónimos para melhorar a sua experiência e o desempenho da aplicação.</p>

            <h4 data-lang-key="use_of_information_title">Uso da Informação</h4>
            <p data-lang-key="use_of_information_text">As informações recolhidas são utilizadas exclusivamente para personalizar a sua experiência na aplicação, guardar as suas definições e, quando aplicável, para analisar tendências de uso de forma agregada e anónima, com o objetivo de otimizar a aplicação.</p>

            <h4 data-lang-key="cookies_title">Cookies e Tecnologias Semelhantes</h4>
            <p data-lang-key="cookies_text">A Viva Andebol poderá utilizar cookies ou tecnologias semelhantes para guardar as suas preferências (ex: modo escuro, idioma) e para garantir a funcionalidade da aplicação. Ao utilizar a aplicação, concorda com o uso destas tecnologias. Pode gerir as definições de cookies no seu navegador, embora isso possa afetar a funcionalidade da aplicação.</p>

            <h4 data-lang-key="third_party_links_title">Links de Terceiros</h4>
            <p data-lang-key="third_party_links_text">A nossa aplicação pode conter links para websites ou serviços de terceiros (ex: websites de ligas, canais do YouTube). Não somos responsáveis pelas práticas de privacidade ou conteúdo desses terceiros. Recomendamos que reveja as políticas de privacidade de quaisquer websites externos que visite.</p>

            <h4 data-lang-key="changes_to_policy_title">Alterações à Política de Privacidade</h4>
            <p data-lang-key="changes_to_policy_text">Reservamo-nos o direito de atualizar esta política de privacidade periodicamente. Quaisquer alterações serão publicadas nesta página. A sua continuação de uso da aplicação após tais alterações constitui a sua aceitação dos novos termos.</p>

            <h4 data-lang-key="contact_us_title">Contacte-nos</h4>
            <p data-lang-key="contact_us_text">Se tiver alguma questão sobre estes termos ou a nossa política de privacidade, por favor contacte-nos através do email de suporte: suporte.vivaandebol@email.com.</p>

            <a href="#" class="back-button" onclick="showSettingsMainScreen();" data-lang-key="back">Voltar</a> </div>

    </section>

    <script>
        // Objeto para gerir as traduções
        const translations = {
            'pt': {
                app_title: 'VIVA ANDEBOL!',
                home: 'Início',
                explore: 'Explorar',
                games: 'Jogos',
                news: 'Notícias',
                settings: 'Definições', 
                discover_handball: 'Descobre o Andebol!',
                Origem_andebol: 'As Origens do Andebol',
                portugal_handball: 'Portugal no Andebol',
                portugal_handball_desc1: 'O andebol chegou a Portugal na década de 1920, com o campeonato nacional a ser criado em 1951.',
                portugal_handball_desc2: 'Portugal teve dificuldades a competir internacionalmente, no entanto, isso tem vindo a mudar recentemente, com jogadores como Alexandre Cavalcanti, com a melhor classificação de sempre num Europeu em 2020, estando neste momento com uma equipa que pode ser considerada a melhor de sempre.',
                portugal_handball_desc3: 'Isto pode ser comprovado pela prestação da seleção nacional na mais recente competição internacional, no mundial de 2025, em que Portugal terminou num histórico 4º lugar, melhorando significativamente o 10º lugar de 2021.',
                rules: 'Regras',
                rules_desc1: 'O jogo tem 2 partes de 30 minutos, podendo ser menores para jogadores com menos de 16 anos.',
                rules_desc2: 'Cada equipa tem 7 jogadores, incluindo 1 guarda-redes.',
                rules_desc3: 'Se a bola tocar abaixo do joelho do jogador é falta',
                rules_desc4: 'Um jogador pode estar com a bola na mão por um máximo de 3 segundos, só podendo dar três passos.',
                rules_desc5: 'É permitido driblar, sendo que depois de agarrar a bola só se pode dar três passos.',
                rules_desc6: 'É permitido contacto físico leve, mas empurrões ou puxões são falta.',
                rules_desc7: 'Não existe limite de substituições.',
                rules_desc8: 'É concedido um livre de 7m em caso de faltas graves que impeçam claras oportunidades de golo. (Com exceções, por exemplo caso o defensor contacte o adversário enquanto estiver dentro da área, é considerado livre de 7 metros).',
                rules_desc9: 'Apenas o guarda-redes pode estar na área de 6 metros.\n Um jogador de campo pode saltar para dentro da área para rematar, desde que largue a bola antes de tocar no chão.',
                rules_desc10: 'Depois de um golo a bola é reposta no meio-campo, a equipa que sofreu o golo tem que ter todos os jogadores atrás da linha do meio, os jogadores adversários não precisam estar na sua metade para a bola ser reposta em jogo.',
                rules_desc11: 'Caso a bola esteja a saltitar dentro da de 6 metros, um jogador de campo pode desde de que não toque na área, caso esteja parada, a bola só pode ser jogada pelo guarda-redes',
                rules_disciplinary_sanctions: 'Sanções disciplinares:\nAdvertência (cartão amarelo): Para faltas menores.',
                rules_exclusion: 'Exclusão 2min: Para faltas graves ou reincidências.',
                rules_red_card: 'Cartão Vermelho: Comportamento Antidesportivo ou acumulação de três 2min.',
                rules_goalkeeper_pass: 'Se, durante o passe do guarda-redes para o meio-campo para continuar depois de um golo sofrido, a bola bater num jogador da equipa adversária, é assinalado 2 minutos.',
                explore_teams_leagues: 'Explorar Equipas e Ligas',
                select_option_search: 'Selecione uma opção para pesquisar resultados, em Portugal e em algumas das melhores ligas do mundo.',
                fpa_competitions: 'Competições FPA',
                international_leagues: 'Ligas Internacionais',
                national_competitions: 'Competições Nacionais',
                regional_competitions: 'Competições Regionais',
                back: 'Voltar',
                male: 'Masculino',
                female: 'Feminino',
                seniors: 'Seniores',
                sub20_juniors: 'Sub-20 (Juniores)', // Usado para nacional masculino e regional masculino/feminino
                youth: 'Sub-18 (Juvenis)', // Usado para nacional masculino e regional masculino/feminino
                beginners: 'Sub-16 (Iniciados)', // Usado para nacional masculino e regional masculino
                beginners_female: 'Sub-16 (Iniciadas)', // Nova chave para iniciadas femininas
                infants: 'Infantis',
                minis: 'Minis',
                juniors_a: 'Sub-20 (Juniores)', // Usado para nacional feminino
                juniors_b: 'Juniores B', 
                international_leagues_competitions: 'Ligas Internacionais e Competições',
                champions_league: 'Liga dos Campeões (EHF Champions League)',
                german_league: 'Liga Alemã (Bundesliga)',
                french_league: 'Liga Francesa (LNH Starligue)',
                spanish_league: 'Liga Espanhola (Liga ASOBAL)',
                world_championships: 'Mundiais (IHF World Championship)',
                european_championships: 'Europeus (EHF Euro)',
                youtube_channels_games: 'Canais de YouTube para Jogos',
                watch_highlights: 'Assista aos melhores momentos e jogos completos nos canais oficiais.',
                recent_news: 'Notícias Recentes',
                stay_updated: 'Mantenha-se atualizado com o mundo do andebol.',
                national: 'Nacional',
                international: 'Internacional',
                search_news_placeholder: 'Pesquisar notícias (jogadores, equipas, etc.)',
                loading_news: 'A carregar notícias...',
                dark_mode: 'Modo Escuro',
                language: 'Idioma',
                portuguese: 'Português',
                english: 'Inglês',
                terms_privacy: 'Termos e Privacidade',
                terms_privacy_title: 'Termos e Condições de Uso e Política de Privacidade',
                terms_introduction_title: 'Introdução',
                terms_introduction_text: 'Bem-vindo à Viva Andebol. Ao aceder e utilizar a nossa aplicação, concorda com os seguintes termos e condições, bem como com a nossa política de privacidade. Leia-os atentamente antes de continuar a utilizar os nossos serviços.',
                data_collection_title: 'Recolha de Dados',
                data_collection_text: 'A Viva Andebol recolhe informações mínimas e essenciais para o funcionamento da aplicação, como as suas preferências de idioma e modo de visualização (claro/escuro). Não recolhemos dados pessoais sensíveis, nem partilhamos as suas informações com terceiros para fins de marketing. Poderemos recolher dados de utilização anónimos para melhorar a sua experiência e o desempenho da aplicação.',
                use_of_information_title: 'Uso da Informação',
                use_of_information_text: 'As informações recolhidas são utilizadas exclusivamente para personalizar a sua experiência na aplicação, guardar as suas definições e, quando aplicável, para analisar tendências de uso de forma agregada e anónima, com o objetivo de otimizar a aplicação.',
                cookies_title: 'Cookies e Tecnologias Semelhantes',
                cookies_text: 'A Viva Andebol poderá utilizar cookies ou tecnologias semelhantes para guardar as suas preferências (ex: modo escuro, idioma) e para garantir a funcionalidade da aplicação. Ao utilizar a aplicação, concorda com o uso destas tecnologias. Pode gerir as definições de cookies no seu navegador, embora isso possa afetar a funcionalidade da aplicação.',
                third_party_links_title: 'Links de Terceiros',
                third_party_links_text: 'A nossa aplicação pode conter links para websites ou serviços de terceiros (ex: websites de ligas, canais do YouTube). Não somos responsáveis pelas práticas de privacidade ou conteúdo desses terceiros. Recomendamos que reveja as políticas de privacidade de quaisquer websites externos que visite.',
                changes_to_policy_title: 'Alterações à Política de Privacidade',
                changes_to_policy_text: 'Reservamo-nos o direito de atualizar esta política de privacidade periodicamente. Quaisquer alterações serão publicadas nesta página. A sua continuação de uso da aplicação após tais alterações constitui a sua aceitação dos novos termos.',
                contact_us_title: 'Contacte-nos',
                contact_us_text: 'Se tiver alguma questão sobre estes termos ou a nossa política de privacidade, por favor contacte-nos através do email de suporte: suporte.vivaandebol@email.com.',
                no_news_found: 'Nenhuma notícia encontrada para esta categoria ou pesquisa.',
                male_seniors_competitions: 'Competições Seniores Masculinas',
                female_seniors_competitions: 'Competições Seniores Femininas',
                campeonato_placard_andebol1: 'Campeonato Placard Andebol 1',
                divisao_honra_masculina: 'Divisão de Honra Masculina',
                taca_portugal_masculina: 'Taça de Portugal Masculina',
                supertaça_masculina: 'Supertaça Masculina',
                campeonato_placard_andebol1_feminina: 'Campeonato Placard Andebol Feminino',
                divisao_honra_feminina: 'Divisão de Honra Feminina',
                taca_portugal_feminina: 'Taça de Portugal Feminina',
                supertaça_feminina: 'Supertaça Feminina',
                manage_preferences:'Gerencie as suas preferências'
            },
            'en': {
                app_title: 'VIVA HANDBALL!',
                home: 'Home',
                explore: 'Explore',
                games: 'Games',
                news: 'News',
                settings: 'Settings', 
                discover_handball: 'Discover Handball!',
                portugal_handball: 'Portugal in Handball',
                Origem_andebol: 'Handball Origins',
                origemandeboldesc1: ' Handball as we know it today is a fast-paced and exciting sport, but its roots can be traced back to ancient games involving the use of hands and a ball. Civilizations such as Ancient Greece and Ancient Rome played similar games, such as “Harpaston” and “Palla” respectively, which required manual dexterity and coordination.',
                origemandeboldesc2:'However, the modern form of handball began to take shape in the late 19th century, with the Danish Holger Nielsen and the German Max Heiser being key figures in its development. In 1898, Nielsen created “handbold”, a game for women that used the hands and had simple rules. Shortly thereafter, in 1917, Heiser introduced “Torball”, a women’s field game, which quickly evolved into “Handball” (11-a-side handball), popularized by the German Carl Schelenz in 1919.',
                origemandeboldesc3: '11-a-side handball, played on football pitches, was the predominant format in the early decades of the 20th century and was even an Olympic sport at the Berlin Games in 1936. Contudo, weather conditions and the popularity of football led to the decline of 11-a-side handball, giving way to the rise of 7-a-side handball, played indoors. This faster, more tactical format quickly gained fans and became the dominant version of the sport.',
                origemandeboldesc4: 'The International Handball Federation (IHF) was founded in 1946, and since then, 7-a-side handball has grown exponentially, and is now one of the most popular team sports globally, with highly prestigious world and European championships and a regular presence at the Olympics since 1972.',

                portugal_handball_desc1: 'Handball arrived in Portugal in the 1920s, with the national championship being created in 1951.',
                portugal_handball_desc2: 'Portugal has had difficulties competing internationally; however, this has recently changed, with players like Alexandre Cavalcanti, achieving their best-ever ranking in a European Championship in 2020, currently having a team that can be considered the best ever.',
                portugal_handball_desc3: 'This can be confirmed by the national team\'s performance in the most recent international competition, the 2025 World Championship, where Portugal finished in a historic 4th place, significantly improving on their 10th place in 2021.',
                rules: 'Rules',
                rules_desc1: 'The game has 2 halves of 30 minutes, which may be shorter for players under 16 years old.',
                rules_desc2: 'Each team has 7 players, including 1 goalkeeper.',
                rules_desc3: 'If the ball touches the player below the knee, it is a foul.',
                rules_desc4: 'A player can hold the ball for a maximum of 3 seconds, and can only take three steps.',
                rules_desc5: 'Dribbling is allowed, but after catching the ball, only three steps can be taken.',
                rules_desc6: 'Light physical contact is allowed, but pushes or pulls are fouls.',
                rules_desc7: 'There is no limit to substitutions.',
                rules_desc8: 'A 7m free throw is awarded in case of serious fouls that prevent clear goal opportunities. (With exceptions, for example, if the defender contacts the opponent while inside the area, it is considered a 7-meter free throw).',
                rules_desc9: 'Only the goalkeeper can be in the 6-meter area.\n A field player can jump into the area to shoot, provided they release the ball before touching the ground.',
                rules_desc10: 'After a goal, the ball is restarted at midfield; the team that conceded the goal must have all players behind the midfield line, opposing players do not need to be in their half for the ball to be put back into play.',
                rules_desc11: 'If the ball is bouncing inside the 6-meter area, a field player can play it as long as they do not touch the area; if it is stationary, the ball can only be played by the goalkeeper.',
                rules_disciplinary_sanctions: 'Disciplinary sanctions:\nWarning (yellow card): For minor fouls.',
                rules_exclusion: '2min Suspension: For serious fouls or repeated offenses.',
                rules_red_card: 'Red Card: Unsportsmanlike conduct or accumulation of three 2min suspensions.',
                rules_goalkeeper_pass: 'If, during the goalkeeper\'s pass to midfield to continue after a goal conceded, the ball hits an opposing team player, a 2-minute penalty is signaled.',
                explore_teams_leagues: 'Explore Teams and Leagues',
                select_option_search: 'Select an option to search for results, in Portugal and some of the best leagues across the world',
                fpa_competitions: 'FPA Competitions',
                international_leagues: 'International Leagues',
                national_competitions: 'National Competitions',
                regional_competitions: 'Regional Competitions',
                back: 'Back',
                male: 'Male',
                female: 'Female',
                seniors: 'Seniors',
                sub20_juniors: 'U20 (Juniors)', 
                youth: 'U18 (Youth)', 
                beginners: 'U16 (Beginners)', 
                beginners_female: 'U16 (Beginners)', // Nova chave para iniciadas femininas
                infants: 'Infants',
                minis: 'Minis',
                juniors_a: 'U20 (Juniors)', 
                juniors_b: 'Juniors B', 
                international_leagues_competitions: 'International Leagues and Competitions',
                champions_league: 'Champions League (EHF Champions League)',
                german_league: 'German League (Bundesliga)',
                french_league: 'French League (LNH Starligue)',
                spanish_league: 'Spanish League (Liga ASOBAL)',
                world_championships: 'World Championships (IHF World Championship)',
                european_championships: 'European Championships (EHF Euro)',
                youtube_channels_games: 'YouTube Channels for Games',
                watch_highlights: 'Watch highlights and full matches on official channels.',
                recent_news: 'Recent News',
                stay_updated: 'Stay updated with the world of handball.',
                national: 'National',
                international: 'International',
                search_news_placeholder: 'Search news (players, teams, etc.)',
                loading_news: 'Loading news...',
                dark_mode: 'Dark Mode',
                language: 'Language',
                portuguese: 'Portuguese',
                english: 'English',
                terms_privacy: 'Terms and Privacy',
                terms_privacy_title: 'Terms of Use and Privacy Policy',
                terms_introduction_title: 'Introduction',
                terms_introduction_text: 'Welcome to Viva Handball. By accessing and using our application, you agree to the following terms and conditions, as well as our privacy policy. Please read them carefully before continuing to use our services.',
                data_collection_title: 'Data Collection',
                data_collection_text: 'Viva Handball collects minimal and essential information for the application\'s operation, such as your language preferences and display mode (light/dark). We do not collect sensitive personal data, nor do we share your information with third parties for marketing purposes. We may collect anonymous usage data to improve your experience and application performance.',
                use_of_information_title: 'Use of Information',
                use_of_information_text: 'The information collected is used exclusively to personalize your experience within the application, save your settings, and, when applicable, to analyze usage trends in an aggregated and anonymous manner, with the objective of optimizing the application.',
                cookies_title: 'Cookies and Similar Technologies',
                cookies_text: 'Viva Handball may use cookies or similar technologies to save your preferences (e.g., dark mode, language) and to ensure the application\'s functionality. By using the application, you agree to the use of these technologies. You can manage cookie settings in your browser, although this may affect the application\'s functionality.',
                third_party_links_title: 'Third-Party Links',
                third_party_links_text: 'Our application may contain links to third-party websites or services (e.g., league websites, YouTube channels). We are not responsible for the privacy practices or content of these third parties. We recommend that you review the privacy policies of any external websites you visit.',
                changes_to_policy_title: 'Changes to Privacy Policy',
                changes_to_policy_text: 'We reserve the right to update this policy of privacy periodically. Any changes will be published on this page. Your continuation of use of the application after such changes constitutes your acceptance of the new terms.',
                contact_us_title: 'Contact Us',
                contact_us_text: 'If you have any questions about these terms or our privacy policy, please contact us via support email: suporte.vivaandebol@email.com.',
                no_news_found: 'No news found for this category or search.',
                male_seniors_competitions: 'Male Seniors Competitions',
                female_seniors_competitions: 'Female Seniors Competitions',
                campeonato_placard_andebol1: 'Campeonato Placard Andebol 1',
                divisao_honra_masculina: 'Men\'s Division of Honor',
                taca_portugal_masculina: 'Men\'s Portugal Cup',
                supertaça_masculina: 'Men\'s Supercup',
                campeonato_placard_andebol1_feminina: 'Women\'s Campeonato Placard Andebol',
                divisao_honra_feminina: 'Women\'s Division of Honor',
                taca_portugal_feminina: 'Women\'s Portugal Cup',
                supertaça_feminina: 'Women\'s Supercup',
                manage_preferences: 'Manage your preferences'
            }
        };

        let currentLanguage = localStorage.getItem('appLanguage') || 'pt'; // Carrega o idioma salvo ou padrão 'pt'
        let darkModeEnabled = localStorage.getItem('darkModeEnabled') === 'true'; // Carrega o modo escuro salvo

        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.menu a');
            const sections = document.querySelectorAll('section.section');
            const discoverMenu = document.getElementById('discover-menu');
            const discoverMainTitle = document.getElementById('discover-main-title');
            const appTitleHeader = document.getElementById('app-title-header');
            
            // Sub-secções da secção "Explorar"
            const fpaCompetitionsMain = document.getElementById('fpa-competitions-main');
            const nacionaisSection = document.getElementById('nacionais-section');
            const regionaisSection = document.getElementById('regionais-section');
            const internationalLeaguesSection = document.getElementById('international-leagues-section');
            const maleSeniorsCompetitionsSection = document.getElementById('male-seniors-competitions-section');
            const femaleSeniorsCompetitionsSection = document.getElementById('female-seniors-competitions-section');


            // Elementos da secção Definições (anteriormente Perfil)
            const settingsMainOptions = document.getElementById('settings-main-options'); // Alterado
            const termsPrivacySection = document.getElementById('terms-privacy-section');
            const darkModeToggle = document.getElementById('darkModeToggle');
            const languageSelect = document.getElementById('language-select');
            const flagIcon = document.getElementById('flag-icon'); // Elemento da bandeira

            // Função para atualizar a bandeira
            function updateFlag() {
                if (currentLanguage === 'pt') {
                    flagIcon.src = 'ptflag.jpg';
                    flagIcon.alt = 'Bandeira de Portugal';
                } else {
                    flagIcon.src = 'ukflag.png';
                    flagIcon.alt = 'United Kingdom Flag';
                }
            }

            // Função para aplicar as traduções
            function applyTranslations() {
                document.querySelectorAll('[data-lang-key]').forEach(element => {
                    const key = element.getAttribute('data-lang-key');
                    if (translations[currentLanguage][key]) {
                        // Se for um input placeholder, atualiza o placeholder
                        if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                            element.setAttribute('placeholder', translations[currentLanguage][key]);
                        } else if (element.tagName === 'OPTION') {
                            // Se for uma opção de select, atualiza o texto da opção
                            element.textContent = translations[currentLanguage][key];
                        } else {
                            // Para outros elementos, atualiza o textContent
                            element.textContent = translations[currentLanguage][key];
                        }
                    }
                });
                // Atualizar o atributo lang da tag html
                document.documentElement.lang = currentLanguage;

                // Forçar a atualização do texto do link "Ler mais" nas notícias
                document.querySelectorAll('.news-article a').forEach(link => {
                    link.textContent = currentLanguage === 'pt' ? 'Ler mais' : 'Read more';
                });

                updateFlag(); // Atualiza a bandeira sempre que o idioma muda
            }

            // Função para alternar o modo escuro
            function toggleDarkMode() {
                document.body.classList.toggle('dark-mode', darkModeEnabled);
                localStorage.setItem('darkModeEnabled', darkModeEnabled); // Salva a preferência
            }

            // Inicializar o modo escuro ao carregar a página
            darkModeToggle.checked = darkModeEnabled;
            toggleDarkMode();

            // Inicializar o idioma selecionado
            languageSelect.value = currentLanguage;
            applyTranslations(); // Aplica as traduções iniciais e atualiza a bandeira

            // Event listener para o toggle do modo escuro
            darkModeToggle.addEventListener('change', () => {
                darkModeEnabled = darkModeToggle.checked;
                toggleDarkMode();
            });

            // Event listener para a seleção de idioma
            languageSelect.addEventListener('change', (event) => {
                currentLanguage = event.target.value;
                applyTranslations();
                localStorage.setItem('appLanguage', currentLanguage); // Salva a preferência de idioma
                displayNews(currentCategory); 
            });

            // Função para esconder todas as secções principais
            function hideAllSections() {
                sections.forEach(section => {
                    section.classList.remove('active');
                });
            }

            // Função para mostrar uma secção principal específica
            function showSection(id) {
                hideAllSections();
                const targetSection = document.getElementById(id);
                if (targetSection) {
                    targetSection.classList.add('active');
                    window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll para o topo da secção
                }
            }

            // Função para gerir a navegação principal do menu inferior
            navLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault(); // Impede o comportamento padrão de saltar para a âncora
                    const targetId = link.getAttribute('href').substring(1); // Remove o '#'
                    showSection(targetId);

                    // Lógica para gerir as sub-secções com base na secção principal ativa
                    if (targetId === 'discover') {
                        showDiscoverMainScreen();
                    } else {
                        hideInternalDiscoverSubsections(); // Esconde as sub-secções da "Explorar"
                    }

                    if (targetId === 'settings') { // Alterado para 'settings'
                        showSettingsMainScreen(); // Alterado
                    } else {
                        hideSettingsSubsections(); // Alterado
                    }

                    if (targetId === 'news') {
                        displayNews(currentCategory); 
                    }
                });
            });

            // Funções para gerir as sub-secções dentro de "Explorar"
            function hideAllDiscoverSubsections() {
                fpaCompetitionsMain.classList.remove('active');
                nacionaisSection.classList.remove('active');
                regionaisSection.classList.remove('active');
                internationalLeaguesSection.classList.remove('active');
                maleSeniorsCompetitionsSection.classList.remove('active'); // Esconde nova secção
                femaleSeniorsCompetitionsSection.classList.remove('active'); // Esconde nova secção
            }

            window.showDiscoverSubSection = function(id) {
                // Esconde as opções principais do "Explorar"
                discoverMenu.style.display = 'none';
                discoverMainTitle.style.display = 'none';

                // Esconde todas as sub-secções da "Explorar" antes de mostrar a selecionada
                hideAllDiscoverSubsections();
                
                // Mostra a sub-secção selecionada
                document.getElementById(id).classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll para o topo
            };

            // Função para mostrar o menu principal da secção "Explorar"
            window.showDiscoverMainScreen = function() {
                discoverMenu.style.display = 'flex';
                discoverMainTitle.style.display = 'block';
                hideAllDiscoverSubsections(); // Garante que todas as sub-secções estão escondidas
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            // Função para esconder todos os menus internos da secção "Explorar"
            function hideInternalDiscoverSubsections() {
                discoverMenu.style.display = 'none';
                discoverMainTitle.style.display = 'none';
                hideAllDiscoverSubsections();
            }
            
            // Lógica para cliques em "Seniores"
            document.querySelectorAll('.clickable-senior').forEach(item => {
                item.addEventListener('click', (event) => {
                    const gender = event.target.dataset.gender;
                    if (gender === 'male') {
                        showDiscoverSubSection('male-seniors-competitions-section');
                    } else if (gender === 'female') {
                        showDiscoverSubSection('female-seniors-competitions-section');
                    }
                });
            });

            // ===============================================
            // Lógica para a secção "Definições"
            // ===============================================

            // Função para mostrar uma sub-secção do perfil
            function hideAllSettingsSubsections() { // Alterado
                termsPrivacySection.classList.remove('active');
            }

            window.showSettingsSubSection = function(id) { // Alterado
                settingsMainOptions.style.display = 'none'; // Alterado
                hideAllSettingsSubsections(); // Alterado
                document.getElementById(id).classList.add('active'); // Mostra a sub-secção selecionada
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            // Função para mostrar a tela principal do perfil
            window.showSettingsMainScreen = function() { // Alterado
                settingsMainOptions.style.display = 'flex'; // Alterado
                hideAllSettingsSubsections(); // Alterado
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            // Função para esconder todas as sub-secções do perfil
            function hideSettingsSubsections() { // Alterado
                settingsMainOptions.style.display = 'none'; // Alterado
                hideAllSettingsSubsections(); // Alterado
            }


            // ===============================================
            // Lógica para a secção "Jogos" - Canais YouTube
            // ===============================================
            const youtubeChannels = [
                { name: 'DynHandball', url: 'https://www.youtube.com/@DynHandball', img: 'dynhand.jpg' },
                { name: 'EHF Home of Handball', url: 'https://www.youtube.com/@EHFTV', img: 'ehfh.jpg' },
                { name: 'Andebol TV', url: 'https://www.youtube.com/@AndebolTV', img: 'andeboltvlogo.jpg' },
                { name: 'YS 24 Handball Video', url: 'https://www.youtube.com/@YS24HandballVideo', img: 'ys24logo.jpg' },
                { name: 'IHF', url: 'https://www.youtube.com/@ihf.info', img: 'ihflogo.jpg' },
                { name: 'IHF Competitions', url: 'https://www.youtube.com/@IHFCompetitions', img: 'ihfcchlogo.jpg' } 
            ];

            const youtubeChannelsGrid = document.querySelector('.youtube-channels-grid');

            // Limpa qualquer conteúdo existente antes de adicionar os novos blocos
            youtubeChannelsGrid.innerHTML = ''; 

            youtubeChannels.forEach(channel => {
                const a = document.createElement('a');
                a.href = channel.url;
                a.target = '_blank'; // Abre o link numa nova aba
                a.classList.add('youtube-channel-block');

                const img = document.createElement('img');
                img.src = channel.img;
                img.alt = `Logo ${channel.name}`;
                img.loading = 'lazy'; // Otimiza o carregamento da imagem

                const h4 = document.createElement('h4');
                h4.textContent = channel.name;

                a.appendChild(img);
                a.appendChild(h4);
                youtubeChannelsGrid.appendChild(a);
            });

            // ===============================================
            // Lógica para a secção "Notícias"
            // ===============================================
            const newsTabs = document.querySelectorAll('.news-tab-button');
            const newsListContainer = document.getElementById('news-list-container');
            const newsLoadingIndicator = document.getElementById('news-loading-indicator');

           
            let allNews = [
                {
                    title_pt: 'Andebol em Cadeira de Rodas: Fase Final do Campeonato Nacional de ACR4 terá lugar em Leiria',
                    description_pt: 'Pavilhão do Liz será palco da consagração do campeão nacional de ACR4, este sábado, dia 31 de maio. Fonte: Fpa ',
                    title_en: 'Wheelchair Handball: Final Phase of the National ACR4 Championship to take place in Leiria',
                    description_en: 'The Liz Pavilion will host the crowning of the national ACR4 champion this Saturday, May 31. Source: Fpa',
                    url: 'https://www.fpa.pt/noticia/andebol-em-cadeira-de-rodas-fase-final-do-campeonato-nacional-de-acr4-tera-lugar-em-leiria/',
                    category: 'nacional',
                    date: '2025-05-29',
                    image: 'wlchrhandball.jpeg'
                },
                {
                    title_pt: 'Campeonato NXT 20: FC Porto sagra-se campeão nacional',
                    description_pt: 'Dragões ergueram o troféu este sábado, no Pavilhão do Colégio dos Carvalhos, depois de terem vencido o rival e anterior detentor do troféu, Sporting CP, a uma jornada do fim da Fase Final. ',
                    title_en: 'NXT 20 Championship: FC Porto becomes national champion',
                    description_en: 'The Dragons lifted the trophy this Saturday, at the Colégio dos Carvalhos Pavilion, after beating their rival and previous trophy holder, Sporting CP, one matchday before the end of the Final Phase.',
                    url: 'https://portal.fpa.pt/2025/05/campeonato-nxt-20-fc-porto-sagra-se-campeao-nacional/',
                    category: 'nacional',
                    date: '2025-05-25',
                    image: 'portosub20.jpg'
                },
                {
                    title_pt: 'Apesar de perder em casa, o Barcelona classificou-se para a Final 4',
                    description_pt: 'Após a qualificação do Füchse Berlin, HBC Nantes e SC Magdeburg para a TruckScout24 EHF FINAL4 2025, nos dias 14 e 15 de junho, o atual campeão e recordista foi a última equipa a garantir o seu lugar em Colónia. Mas o Barcelona teve mais do que sorte, aproveitaram a vantagem de três golos conseguida no jogo da primeira mão, com o PICK Szeged a vencer o jogo da segunda mão por 30-29.',
                    title_en: 'Despite home defeat, Barcelona qualified for the Final 4',
                    description_en: 'After Füchse Berlin, HBC Nantes and SC Magdeburg qualified for the TruckScout24 EHF FINAL4 2025 on 14 and 15 June, the reigning champions and record holders were the last team to secure their spot in Cologne. But Barcelona had more than luck, they took advantage of the three-goal lead achieved in the first leg, with PICK Szeged winning the second leg match 30-29.',
                    url: 'https://ehfcl.eurohandball.com/men/2024-25/news/en/despite-home-defeat-barca-complete-ehf-final4-starting-grid/',
                    category: 'internacional',
                    date: '2025-05-01',
                    image: 'barcszeged.jpg'
                },
                {
                    title_pt: 'Francisco Costa premiado na Gala da Confederação do Desporto de Portugal',
                    description_pt: 'Internacional português venceu o prémio “Jovem Promessa” do ano de 2024, numa escolha entre cinco candidatos.',
                    title_en: 'Francisco Costa awarded at the Gala of the Portuguese Sports Confederation',
                    description_en: 'The Portuguese international won the “Young Promise” award for 2024, chosen from five candidates.',
                    url: 'https://portal.fpa.pt/2025/05/francisco-costa-premiado-na-gala-da-confederacao-do-desporto-de-portugal/',
                    category: 'nacional',
                    date: '2025-05-27',
                    image: 'fcosta.png'
                },
                {
                    title_pt: 'A batalha pelo título começa com emoção na Final 4 da EHF',
                    description_pt: 'O auge da época chegou. As quatro melhores equipas da Liga dos Campeões Feminina da EHF 2024/25 estão prontas para lutar pelo troféu na EHF FINAL4 Feminina 2025. O confronto começará no sábado, no MVM Dome, em Budapeste, com dois confrontos das meias-finais de alto risco que determinarão quais as duas equipas que lutarão pela glória no domingo.',
                    title_en: 'The battle for the title begins with excitement at the EHF Final 4',
                    description_en: 'The season\'s climax has arrived. The four best teams in the EHF Women\'s Champions League 2024/25 are ready to fight for the trophy at the Women\'s EHF FINAL4 2025. The showdown will begin on Saturday, at the MVM Dome in Budapest, with two high-stakes semi-final clashes that will determine which two teams will fight for glory on Sunday.',
                    url: 'https://ehfcl.eurohandball.com/news/en/tussle-for-the-title-begins-with-fiery-ehf-final4-semi-final-clashes/',
                    category: 'internacional',
                    date: '2025-05-29',
                    image: 'ehff4fem.webp'
                },
                {
                    title_pt: 'Taça de Portugal Feminina: SL Benfica ergue a nona da história',
                    description_pt: 'Uma segunda parte de grande nível valeu a reconquista da Prova Rainha pelas encarnadas, a terceira vez nos últimos quatro anos.',
                    title_en: 'Portuguese Women\'s Cup: SL Benfica lifts the ninth in history',
                    description_en: 'A high-level second half earned the "encarnadas" the reconquest of the Queen\'s Cup, the third time in the last four years.',
                    url: 'https://portal.fpa.pt/2025/05/taca-de-portugal-feminina-sl-benfica-ergue-a-nona-da-historia/',
                    category: 'nacional',
                    date: '2025-05-25',
                    image: 'benficafem.jpg'
                },
                {
                    title_pt: 'Flensburg venceu a EHF European League Men, depois de vencer o Montpellier Handball na final.',
                    description_pt: 'O SG Flensburg-Handewitt manteve o título da Liga Europeia Masculina da EHF, terminando a época europeia com duas vitórias em dois jogos, conquistando uma vitória no prolongamento contra o MT Melsungen nas meias-finais e uma vitória por 32-25 sobre o Montpellier Handball na final da competição.',
                    title_en: 'Flensburg won the EHF European League Men, after beating Montpellier Handball in the final.',
                    description_en: 'SG Flensburg-Handewitt retained the EHF Men\'s European League title, ending the European season with two wins in two games, securing an overtime victory against MT Melsungen in the semi-finals and a 32-25 win over Montpellier Handball in the competition final.',
                    url: 'https://www.ihf.info/media-center/news/danish-world-champions-help-flensburg-seal-back-back-titles-ehf-european-league',
                    category: 'internacional',
                    date: '2025-05-25',
                    image: 'flensburgehff.jpg',
                  

                }
            ];

            let currentCategory = 'nacional'; // Categoria de notícias atualmente selecionada

            // Função para exibir notícias na interface
            function displayNews(category) { 
                newsListContainer.innerHTML = ''; // Limpa a lista de notícias
                const filteredNews = allNews.filter(news => {
                    const matchesCategory = (category === 'all' || news.category === category);
                    return matchesCategory; // Apenas filtra por categoria agora
                });

                // Ordenar as notícias por data (mais recente primeiro)
                filteredNews.sort((a, b) => new Date(b.date) - new Date(a.date));

                if (filteredNews.length === 0) {
                    newsListContainer.innerHTML = `<p style="text-align: center; color: #555;" data-lang-key="no_news_found">${translations[currentLanguage]['no_news_found']}</p>`;
                    return;
                }

                filteredNews.forEach(news => {
                    const article = document.createElement('div');
                    article.classList.add('news-article');
                    article.innerHTML = `
                        <h4>${news['title_' + currentLanguage]}</h4>
                        <p>${news['description_' + currentLanguage]}</p>
                        <img src="${news.image}" alt="Image related to ${news['title_' + currentLanguage]}" style="max-width: 100%; height: auto; border-radius: 8px; margin-bottom: 10px;">
                        <p style="font-size: 0.8em; color: #888;">${new Date(news.date).toLocaleDateString(currentLanguage === 'pt' ? 'pt-PT' : 'en-US')}</p>
                        <a href="${news.url}" target="_blank">${currentLanguage === 'pt' ? 'Ler mais' : 'Read more'}</a>
                    `;
                    newsListContainer.appendChild(article);
                });
            }

            // Event Listeners para os botões das abas
            newsTabs.forEach(button => {
                button.addEventListener('click', () => {
                    newsTabs.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentCategory = button.dataset.category;
                    displayNews(currentCategory); 
                });
            });

            // Ao carregar a secção de notícias, exibe as notícias nacionais por padrão
            document.querySelector('.menu a[href="#news"]').addEventListener('click', () => {
                displayNews(currentCategory); 
            });

            // Inicializar: mostra a secção 'home' ao carregar a página
            showSection('home');

            // Exibe as notícias nacionais por padrão ao carregar a página
            displayNews('nacional'); 
        });
    </script>
</body>
</html>
